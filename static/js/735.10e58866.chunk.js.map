{"version":3,"file":"static/js/735.10e58866.chunk.js","mappings":"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","sources":["components/BookSection/BookSection.jsx","components/OrderSection/OrderSection.jsx","routes/pages/SpecificBook/SpecificBook.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport imgNotFound from \"../../assets/images/imgNotFound.png\";\r\nimport \"./BookSection.css\";\r\nimport LazyImage from \"../LazyImage/LazyImage\";\r\n\r\nfunction BookSection({\r\n  book: { author, image, title, level, tags, shortDescription, description },\r\n}) {\r\n  const [showFullDescription, setShowFullDescription] = useState(false);\r\n  const btnText = `Click to see ${showFullDescription ? \"less\" : \"more...\"}`;\r\n\r\n  function handleDescriptionClick(event) {\r\n    event.stopPropagation();\r\n    setShowFullDescription((prev) => !prev);\r\n  }\r\n\r\n  return (\r\n    <section className=\"book-section\">\r\n      <div className=\"flex\">\r\n        <div className=\"img-container fancy-background\">\r\n          <LazyImage\r\n            className=\"book-image\"\r\n            src={image || imgNotFound}\r\n            alt=\"Book image\"\r\n          />\r\n        </div>\r\n        <div className=\"book-info fancy-background\">\r\n          <p>\r\n            <span className=\"book-span\">Book name: </span>\r\n            <em>{title}</em>\r\n          </p>\r\n          <p>\r\n            <span className=\"book-span\">Book author: </span>\r\n            <em>{author}</em>\r\n          </p>\r\n          <p>\r\n            <span className=\"book-span\">Book level: </span>\r\n            <em>{level}</em>\r\n          </p>\r\n          <p>\r\n            <span className=\"book-span\">Book tags: </span>\r\n            <em>{tags.join(\", \")}</em>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <p\r\n        className=\"book-description fancy-background\"\r\n        onClick={(e) => {\r\n          handleDescriptionClick(e);\r\n        }}\r\n      >\r\n        <span className=\"book-span\">Description: </span>\r\n        <span>{showFullDescription ? description : shortDescription} </span>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn-text\"\r\n          onClick={(e) => {\r\n            handleDescriptionClick(e);\r\n          }}\r\n        >\r\n          {btnText}\r\n        </button>\r\n      </p>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default BookSection;\r\n","import { useState } from \"react\";\r\nimport { useCart } from \"../../contexts/CartContext\";\r\nimport \"./OrderSection.css\";\r\n\r\nfunction OrderSection({ price, amount, bookID, title }) {\r\n  const { cart, addToCart } = useCart();\r\n  const [isValid, setIsValid] = useState(true);\r\n  const [totalCount, setTotalCount] = useState(() => {\r\n    const index = cart.findIndex((el) => {\r\n      return el.id === bookID;\r\n    });\r\n\r\n    return index === -1 ? 1 : cart[index].orderedCount;\r\n  });\r\n\r\n  function handleAddToCart() {\r\n    addToCart(bookID, totalCount, price, title);\r\n  }\r\n\r\n  function validateTotalCount(count) {\r\n    if (count > 0 && count <= amount) {\r\n      setIsValid(true);\r\n    } else {\r\n      setIsValid(false);\r\n    }\r\n  }\r\n\r\n  function handleChangeTotalCount(e) {\r\n    const operator = e.target.innerText;\r\n    const value = +e.target.value;\r\n    e.target.value = value;\r\n\r\n    if (operator === \"+\") {\r\n      setTotalCount((prev) => prev + 1);\r\n      validateTotalCount(totalCount + 1);\r\n    } else if (operator === \"-\") {\r\n      setTotalCount((prev) => prev - 1);\r\n      validateTotalCount(totalCount - 1);\r\n    } else {\r\n      setTotalCount(value);\r\n      validateTotalCount(value);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"order-section fancy-background\">\r\n      <div>\r\n        <p className=\"price-paragr\">Price, $</p>\r\n        <p className=\"price\">{price}</p>\r\n      </div>\r\n\r\n      <div>\r\n        <label className=\"count-label\" htmlFor=\"count\">\r\n          Count\r\n        </label>\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Increase count of books\"\r\n          className=\"btn-plus btn-effect-3d btn-circle\"\r\n          onClick={handleChangeTotalCount}\r\n        >\r\n          +\r\n        </button>\r\n        <input\r\n          name=\"count\"\r\n          className={isValid ? \"count\" : \"count invalid-field\"}\r\n          id=\"count\"\r\n          type=\"number\"\r\n          required\r\n          step=\"1\"\r\n          min=\"1\"\r\n          value={totalCount}\r\n          onInput={handleChangeTotalCount}\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          aria-label=\"Decrease count of books\"\r\n          className=\"btn-minus btn-effect-3d btn-circle\"\r\n          onClick={handleChangeTotalCount}\r\n        >\r\n          -\r\n        </button>\r\n      </div>\r\n\r\n      <div>\r\n        <p className=\"total-price-paragr\">Total price</p>\r\n        <p className=\"total-price\">\r\n          {isValid ? (\r\n            (price * totalCount).toFixed(2)\r\n          ) : (\r\n            <span className=\"invalid-text\">Error</span>\r\n          )}\r\n        </p>\r\n      </div>\r\n\r\n      <button\r\n        type=\"button\"\r\n        className=\"add-button btn-effect-press\"\r\n        disabled={!isValid}\r\n        onClick={handleAddToCart}\r\n      >\r\n        Add to cart\r\n      </button>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default OrderSection;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useFetch from \"../../../hooks/useFetch\";\r\n\r\nimport \"./SpecificBook.css\";\r\nimport BookSection from \"../../../components/BookSection/BookSection\";\r\nimport OrderSection from \"../../../components/OrderSection/OrderSection\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\nimport ErrorFallback from \"../../../components/ErrorFallback/ErrorFallback\";\r\n\r\nfunction SpecificBook() {\r\n  console.log(\"Book-page render\");\r\n\r\n  const { bookID } = useParams();\r\n  const {\r\n    data: specificBook,\r\n    loading,\r\n    error,\r\n    refetch,\r\n  } = useFetch(`/books/${bookID}`);\r\n\r\n  if (loading) {\r\n    return <Loader type=\"named\" />;\r\n  }\r\n  if (error) {\r\n    return <ErrorFallback error={error} refetch={refetch} />;\r\n  }\r\n\r\n  return (\r\n    specificBook && (\r\n      <div className=\"specific-book-container flex\">\r\n        <BookSection book={specificBook} />\r\n        <OrderSection\r\n          price={specificBook.price}\r\n          amount={specificBook.amount}\r\n          title={specificBook.title}\r\n          bookID={bookID}\r\n        />\r\n      </div>\r\n    )\r\n  );\r\n}\r\n\r\nexport default SpecificBook;\r\n"],"names":["_ref","book","author","image","title","level","tags","shortDescription","description","showFullDescription","setShowFullDescription","useState","btnText","handleDescriptionClick","event","stopPropagation","prev","_jsxs","className","children","_jsx","LazyImage","src","imgNotFound","alt","join","onClick","e","type","price","amount","bookID","cart","addToCart","useCart","isValid","setIsValid","totalCount","setTotalCount","index","findIndex","el","id","orderedCount","validateTotalCount","count","handleChangeTotalCount","operator","target","innerText","value","htmlFor","name","required","step","min","onInput","toFixed","disabled","console","log","useParams","data","specificBook","loading","error","refetch","useFetch","Loader","ErrorFallback","BookSection","OrderSection"],"sourceRoot":""}