{"version":3,"file":"static/js/644.060a8ab9.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js","utils/validation/validator/base-validator.js","utils/validation/validator/validator-strategies.js","utils/validation/validator/validator-selector.js","utils/validation/validator/validator.js","components/Message/Message.jsx","hooks/useTimedValue.js","utils/validation/formValidation.js","hooks/useTimedMessages.js","routes/pages/Registration/Registration.jsx","api/authApi.js","services/authService.js"],"sourcesContent":["function _classPrivateFieldBase(e, t) {\n  if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\");\n  return e;\n}\nexport { _classPrivateFieldBase as default };","var id = 0;\nfunction _classPrivateFieldKey(e) {\n  return \"__private_\" + id++ + \"_\" + e;\n}\nexport { _classPrivateFieldKey as default };","export class BaseValidator {\r\n  message = \"\";\r\n\r\n  setError(msg) {\r\n    this.message = msg;\r\n  }\r\n\r\n  reset() {\r\n    this.message = \"\";\r\n  }\r\n\r\n  validate(value) {\r\n    throw new Error(\"validate() must be implemented in subclass\");\r\n  }\r\n}\r\n","import { BaseValidator } from \"./base-validator\";\r\n\r\nexport class RequiredValidator extends BaseValidator {\r\n  validate(value) {\r\n    let valueType = typeof value;\r\n\r\n    this.reset();\r\n    if (value === null || value === undefined) {\r\n      this.setError(\"The value is required!\");\r\n      return false;\r\n    }\r\n    if (valueType === \"string\" && value.trim() === \"\") {\r\n      this.setError(\"The value is required!\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class NameValidator extends BaseValidator {\r\n  validate(value) {\r\n    this.reset();\r\n    if (value.length < 2) {\r\n      this.setError(\"The name is too short!\");\r\n      return false;\r\n    }\r\n    if (value.length > 10) {\r\n      this.setError(\"The name is too long!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class PasswordValidator extends BaseValidator {\r\n  validate(value) {\r\n    this.reset();\r\n    if (value.length < 6) {\r\n      this.setError(\"Password must be at least 6 characters long!\");\r\n      return false;\r\n    }\r\n    if (!/[A-Z]/.test(value)) {\r\n      this.setError(\"Password must contain at least one uppercase letter!\");\r\n      return false;\r\n    }\r\n    if (!/[0-9]/.test(value)) {\r\n      this.setError(\"Password must contain at least one number!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class EmailValidator extends BaseValidator {\r\n  validate(value) {\r\n    this.reset();\r\n    if (!/^[^\\s@]+@[^\\s@]+\\.[a-zA-Z]{2,}$/.test(value)) {\r\n      this.setError(\"Incorrect email!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  // /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/i\r\n  //  !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email)\r\n}\r\n\r\nexport class PhoneNumberValidator extends BaseValidator {\r\n  validate(value) {\r\n    this.reset();\r\n    if (!/^\\+?\\d{10,15}$/.test(value)) {\r\n      this.setError(\"Incorrect phone number!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  // ^\\+380\\d{9}$\r\n}\r\n\r\nexport class AvatarValidator extends BaseValidator {\r\n  MAX_SIZE = 1 * 1024 * 1024; // max file size = 1MB\r\n  ALLOWED_TYPES = [\"image/jpeg\", \"image/png\", \"image/webp\"];\r\n\r\n  validate(file) {\r\n    this.reset();\r\n    if (!this.ALLOWED_TYPES.includes(file.type)) {\r\n      this.setError(\"Allowed formats: JPG, PNG, WEBP.\");\r\n      return false;\r\n    }\r\n    if (file.size > this.MAX_SIZE) {\r\n      this.setError(\"The file cannot be larger than 1MB.\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class PasswordEqualityValidator extends BaseValidator {\r\n  validate({ newPassword, confirm }) {\r\n    this.reset();\r\n    if (newPassword !== confirm) {\r\n      this.setError(\"New passwords do not match!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class OrderQuantityValidator extends BaseValidator {\r\n  validate({ totalCount, maxTotalCount }) {\r\n    this.reset();\r\n    if (typeof totalCount !== \"number\" || typeof maxTotalCount !== \"number\") {\r\n      this.setError(\"Invalid quantity data!\");\r\n      return false;\r\n    }\r\n    if (totalCount <= 0) {\r\n      this.setError(\"The value is not valid!\");\r\n      return false;\r\n    }\r\n    if (totalCount > maxTotalCount) {\r\n      this.setError(`Only ${maxTotalCount} available!`);\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import {\r\n  RequiredValidator,\r\n  NameValidator,\r\n  PasswordValidator,\r\n  EmailValidator,\r\n  PhoneNumberValidator,\r\n  AvatarValidator,\r\n  PasswordEqualityValidator,\r\n  OrderQuantityValidator,\r\n} from \"./validator-strategies\";\r\n\r\nexport default class ValidatorSelector {\r\n  static #validators = {};\r\n\r\n  static initialize() {\r\n    ValidatorSelector.#validators = {\r\n      required: new RequiredValidator(),\r\n      name: new NameValidator(),\r\n      password: new PasswordValidator(),\r\n      email: new EmailValidator(),\r\n      phoneNumber: new PhoneNumberValidator(),\r\n      avatar: new AvatarValidator(),\r\n      passwordEquality: new PasswordEqualityValidator(),\r\n      orderQuantity: new OrderQuantityValidator(),\r\n    };\r\n\r\n    ValidatorSelector.initialize = () => {}; // для уникнення повторної ініціалізації\r\n  }\r\n\r\n  static select(name) {\r\n    const validator = ValidatorSelector.#validators[name];\r\n    if (!validator) throw new Error(\"No validator found: \" + name);\r\n    return validator;\r\n  }\r\n}\r\n","import ValidatorSelector from \"./validator-selector\";\r\n\r\nexport default class Validator {\r\n  #config;\r\n  validate;\r\n\r\n  constructor(config) {\r\n    const isValidConfigType =\r\n      typeof config === \"string\" ||\r\n      Array.isArray(config) ||\r\n      typeof config === \"object\";\r\n\r\n    if (!config) throw new Error(\"No validation config provided!\");\r\n    if (!isValidConfigType) {\r\n      throw new Error(\"Config must be string, array, or object!\");\r\n    }\r\n\r\n    this.#config = config;\r\n\r\n    if (typeof config === \"string\" || Array.isArray(config)) {\r\n      this.validate = this.#validateValue;\r\n    } else {\r\n      this.validate = this.#validateObj;\r\n    }\r\n\r\n    ValidatorSelector.initialize();\r\n  }\r\n\r\n  #validateObj(data) {\r\n    if (!data || typeof data !== \"object\")\r\n      throw new Error(\"Validation failed: data is missing or invalid.\");\r\n\r\n    const errors = {};\r\n    const keys = Object.keys(this.#config);\r\n\r\n    for (const key of keys) {\r\n      let validatorNamesArr = this.#config[key];\r\n      if (!validatorNamesArr) continue;\r\n\r\n      if (typeof validatorNamesArr === \"string\") {\r\n        validatorNamesArr = [validatorNamesArr];\r\n      }\r\n\r\n      for (const validatorName of validatorNamesArr) {\r\n        const validator = ValidatorSelector.select(validatorName);\r\n        const isValid = validator.validate(data[key]);\r\n\r\n        if (!isValid) {\r\n          errors[key] = validator.message;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      valid: Object.keys(errors).length === 0,\r\n      errors,\r\n    };\r\n  }\r\n\r\n  #validateValue(value) {\r\n    let error = \"\";\r\n    let valid = true;\r\n    let validatorNamesArr = this.#config;\r\n\r\n    if (typeof validatorNamesArr === \"string\") {\r\n      validatorNamesArr = [validatorNamesArr];\r\n    }\r\n\r\n    for (const validatorName of validatorNamesArr) {\r\n      const validator = ValidatorSelector.select(validatorName);\r\n      const isValid = validator.validate(value);\r\n\r\n      if (!isValid) {\r\n        error = validator.message;\r\n        valid = isValid;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return { valid, error };\r\n  }\r\n}\r\n","import \"./Message.css\";\r\n\r\nfunction Message({ className, message, type }) {\r\n  let newClassName = type ? `${className} message-${type}` : className;\r\n  newClassName = className === \"message\" ? newClassName : \"message \" + newClassName;\r\n\r\n  return (\r\n    <p className={newClassName} role=\"alert\">\r\n      {message}\r\n    </p>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import { useState, useRef, useEffect, useCallback } from \"react\";\r\n\r\nexport function useTimedValue(initialValue, globalDelay = null) {\r\n  const [value, setValue] = useState(initialValue);\r\n  const timerRef = useRef(null);\r\n  const isMounted = useRef(true);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true; // Fix bug in StrictMode\r\n    return () => {\r\n      isMounted.current = false;\r\n      if (timerRef.current) clearTimeout(timerRef.current);\r\n    };\r\n  }, []);\r\n\r\n  const showValue = useCallback(\r\n    (value, localDelay) => {\r\n      const delay = localDelay !== undefined ? localDelay : globalDelay;\r\n      setValue(value);\r\n\r\n      if (timerRef.current) clearTimeout(timerRef.current);\r\n\r\n      if (delay !== null && delay !== undefined) {\r\n        timerRef.current = setTimeout(() => {\r\n          if (isMounted.current) setValue(initialValue);\r\n          timerRef.current = null;\r\n        }, delay);\r\n      }\r\n    },\r\n    [globalDelay, initialValue]\r\n  );\r\n\r\n  const clearValue = useCallback(() => {\r\n    if (timerRef.current) clearTimeout(timerRef.current);\r\n    timerRef.current = null;\r\n    setValue(initialValue);\r\n  }, [initialValue]);\r\n\r\n  return {\r\n    value,\r\n    showValue,\r\n    clearValue,\r\n  };\r\n}\r\n","import Validator from \"./validator/validator\";\r\n\r\nfunction validateForm(form, config) {\r\n  const validator = new Validator(config);\r\n  return validator.validate(form);\r\n}\r\n\r\nexport function validateLoginForm(form) {\r\n  const config = {\r\n    username: [\"required\", \"name\"],\r\n    password: [\"required\", \"password\"],\r\n  };\r\n  return validateForm(form, config);\r\n}\r\n\r\nexport function validateRegistrationForm(form) {\r\n  const config = {\r\n    username: [\"required\", \"name\"],\r\n    password: [\"required\", \"password\"],\r\n    email: [\"required\", \"email\"],\r\n    phoneNumber: [\"required\", \"phoneNumber\"],\r\n  };\r\n  return validateForm(form, config);\r\n}\r\n\r\nexport function validateUserInfoForm(form) {\r\n  const config = {\r\n    email: [\"required\", \"email\"],\r\n    phoneNumber: [\"required\", \"phoneNumber\"],\r\n  };\r\n  return validateForm(form, config);\r\n}\r\n\r\nexport function validatePasswordForm({ newPassword, confirm }) {\r\n  const newForm = {\r\n    newPassword: newPassword,\r\n    confirm: { newPassword, confirm },\r\n  };\r\n\r\n  const config = {\r\n    newPassword: [\"required\", \"password\"],\r\n    confirm: \"passwordEquality\",\r\n  };\r\n\r\n  return validateForm(newForm, config);\r\n}\r\n","import { useCallback, useMemo } from \"react\";\r\nimport { useTimedValue } from \"./useTimedValue\";\r\n\r\nexport function useTimedMessages(delay) {\r\n  const initialValue = useMemo(() => ({ messages: {}, type: \"\" }), []);\r\n  const { value, showValue, clearValue } = useTimedValue(initialValue, delay);\r\n\r\n  const showMessages = useCallback(\r\n    (messages = {}, type = \"\", overrideDelay) => {\r\n      showValue(\r\n        (prev) =>\r\n          prev.type === type && prev.messages === messages\r\n            ? prev\r\n            : { messages, type },\r\n        overrideDelay\r\n      );\r\n    },\r\n    [showValue]\r\n  );\r\n\r\n  return {\r\n    messages: value.messages,\r\n    type: value.type,\r\n    showMessages,\r\n    clearMessages: clearValue,\r\n  };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useTimedMessages } from \"../../../hooks/useTimedMessages\";\r\nimport useControlledFetch from \"../../../hooks/useControlledFetch\";\r\nimport { AuthService } from \"../../../services/authService\";\r\nimport Message from \"../../../components/Message/Message\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\nimport { validateRegistrationForm } from \"../../../utils/validation/formValidation\";\r\nimport \"./Registration.css\";\r\n\r\nconst initialForm = {\r\n  username: \"\",\r\n  password: \"\",\r\n  role: \"USER\",\r\n  email: \"\",\r\n  phoneNumber: \"\",\r\n  gender: \"MALE\",\r\n};\r\n\r\nfunction Registration() {\r\n  const [form, setForm] = useState(initialForm);\r\n  const { loading, error, fetch: registrationFetch } = useControlledFetch();\r\n  const { messages, type, showMessages, clearMessages } = useTimedMessages(8000);\r\n\r\n  useEffect(() => {\r\n    if (error) showMessages({ error: error.message }, \"error\");\r\n  }, [error, showMessages]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    clearMessages();\r\n    const { valid, errors } = validateRegistrationForm(form);\r\n\r\n    if (!valid) {\r\n      showMessages(errors, \"error\");\r\n      return;\r\n    }\r\n\r\n    registrationFetch({\r\n      requestFn: AuthService.register,\r\n      args: [form],\r\n      onSuccess: (data) => {\r\n        showMessages(\r\n          { success: data.message || \"Successful registration!\" },\r\n          \"success\"\r\n        );\r\n        setForm(initialForm);\r\n      },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"register-container\">\r\n        <form\r\n          className={`fancy-background ${type || \"\"}`}\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <h2>Registration</h2>\r\n          {(messages?.success || messages?.error) && (\r\n            <Message\r\n              message={messages?.success || messages?.error}\r\n              type={type}\r\n            />\r\n          )}\r\n          <label htmlFor=\"user-name\">User name</label>\r\n          <input\r\n            id=\"user-name\"\r\n            type=\"text\"\r\n            name=\"username\"\r\n            placeholder=\"Type your name\"\r\n            value={form.username}\r\n            onChange={handleChange}\r\n            required\r\n            disabled={loading}\r\n            autoComplete=\"username\"\r\n          />\r\n          {messages?.username && (\r\n            <Message message={messages.username} type={type} />\r\n          )}\r\n\r\n          <label htmlFor=\"email\">Email</label>\r\n          <input\r\n            id=\"email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            placeholder=\"Email\"\r\n            value={form.email}\r\n            onChange={handleChange}\r\n            required\r\n            disabled={loading}\r\n            autoComplete=\"email\"\r\n          />\r\n          {messages?.email && <Message message={messages.email} type={type} />}\r\n\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            id=\"password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            value={form.password}\r\n            onChange={handleChange}\r\n            required\r\n            disabled={loading}\r\n            autoComplete=\"new-password\"\r\n          />\r\n          {messages?.password && (\r\n            <Message message={messages.password} type={type} />\r\n          )}\r\n\r\n          <label htmlFor=\"phone-number\">Phone Number</label>\r\n          <input\r\n            id=\"phone-number\"\r\n            type=\"tel\"\r\n            name=\"phoneNumber\"\r\n            placeholder=\"Phone Number\"\r\n            value={form.phoneNumber}\r\n            onChange={handleChange}\r\n            required\r\n            disabled={loading}\r\n          />\r\n          {messages?.phoneNumber && (\r\n            <Message message={messages.phoneNumber} type={type} />\r\n          )}\r\n\r\n          <label htmlFor=\"gender\">Gender</label>\r\n          <select\r\n            id=\"gender\"\r\n            name=\"gender\"\r\n            value={form.gender}\r\n            onChange={handleChange}\r\n            disabled={loading}\r\n          >\r\n            <option value=\"MALE\">Male</option>\r\n            <option value=\"FEMALE\">Female</option>\r\n          </select>\r\n\r\n          <hr />\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn-effect-3d\"\r\n            disabled={loading}\r\n          >\r\n            Register\r\n          </button>\r\n          {loading && <Loader type=\"local\" />}\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Registration;\r\n","import axiosInstance from \"./axiosInstance\";\r\n\r\nconst API_URL = \"/auth\";\r\n\r\nexport const registerUserApi = (userData, signal) => {\r\n  return axiosInstance.post(API_URL + \"/register\", userData, { signal });\r\n};\r\n\r\nexport const loginUserApi = (credentials, signal) => {\r\n  return axiosInstance.post(API_URL + \"/login\", credentials, { signal });\r\n};\r\n","import { loginUserApi, registerUserApi } from \"../api/authApi\";\r\n\r\nexport const AuthService = {\r\n  async register(userData, signal) {\r\n    const response = await registerUserApi(userData, signal);\r\n    return response.data;\r\n  },\r\n\r\n  async login(credentials, signal) {\r\n    const response = await loginUserApi(credentials, signal);\r\n    return response.data;\r\n  },\r\n};\r\n"],"names":["_classPrivateFieldBase","e","t","hasOwnProperty","call","TypeError","id","_classPrivateFieldKey","BaseValidator","constructor","message","setError","msg","this","reset","validate","value","Error","RequiredValidator","valueType","undefined","trim","NameValidator","length","PasswordValidator","test","EmailValidator","PhoneNumberValidator","AvatarValidator","arguments","MAX_SIZE","ALLOWED_TYPES","file","includes","type","size","PasswordEqualityValidator","_ref","newPassword","confirm","OrderQuantityValidator","_ref2","totalCount","maxTotalCount","concat","_validators","_classPrivateFieldLooseKey","ValidatorSelector","initialize","_classPrivateFieldLooseBase","required","name","password","email","phoneNumber","avatar","passwordEquality","orderQuantity","select","validator","Object","defineProperty","writable","_config","_validateObj","_validateValue","Validator","config","_validateValue2","_validateObj2","isValidConfigType","Array","isArray","data","errors","keys","key","validatorNamesArr","validatorName","valid","error","isValid","className","newClassName","_jsx","role","children","useTimedValue","initialValue","globalDelay","setValue","useState","timerRef","useRef","isMounted","useEffect","current","clearTimeout","showValue","useCallback","localDelay","delay","setTimeout","clearValue","validateForm","form","validateLoginForm","username","validateRegistrationForm","validateUserInfoForm","validatePasswordForm","useTimedMessages","useMemo","messages","showMessages","prev","clearMessages","initialForm","gender","setForm","loading","fetch","registrationFetch","useControlledFetch","handleChange","target","_objectSpread","_Fragment","_jsxs","onSubmit","preventDefault","requestFn","AuthService","register","args","onSuccess","success","Message","htmlFor","placeholder","onChange","disabled","autoComplete","Loader","API_URL","userData","signal","response","registerUserApi","axiosInstance","post","login","credentials","loginUserApi"],"sourceRoot":""}