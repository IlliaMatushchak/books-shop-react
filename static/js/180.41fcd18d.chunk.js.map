{"version":3,"file":"static/js/180.41fcd18d.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js","../node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js","utils/validation/validator/base-validator.js","utils/validation/validator/validator-strategies.js","utils/validation/validator/validator-selector.js","utils/validation/validator/validator.js","hooks/useResponsiveValue.js","utils/validation/valueValidation.js","components/Message/Message.jsx","hooks/useTimedValue.js","hooks/useTimedMessage.js","components/AvatarUploader/AvatarUploader.jsx","routes/pages/SignIn/SignIn.jsx","components/LazyImage/LazyImage.jsx"],"sourcesContent":["function _classPrivateFieldBase(e, t) {\n  if (!{}.hasOwnProperty.call(e, t)) throw new TypeError(\"attempted to use private field on non-instance\");\n  return e;\n}\nexport { _classPrivateFieldBase as default };","var id = 0;\nfunction _classPrivateFieldKey(e) {\n  return \"__private_\" + id++ + \"_\" + e;\n}\nexport { _classPrivateFieldKey as default };","export class BaseValidator {\r\n  message = \"\";\r\n\r\n  setError(msg) {\r\n    this.message = msg;\r\n  }\r\n\r\n  reset() {\r\n    this.message = \"\";\r\n  }\r\n\r\n  validate(value) {\r\n    throw new Error(\"validate() must be implemented in subclass\");\r\n  }\r\n}\r\n","import { BaseValidator } from \"./base-validator\";\r\n\r\nexport class RequiredValidator extends BaseValidator {\r\n  validate(value) {\r\n    let valueType = typeof value;\r\n\r\n    this.reset();\r\n    if (value === null || value === undefined) {\r\n      this.setError(\"The value is required!\");\r\n      return false;\r\n    }\r\n    if (valueType === \"string\" && value.trim() === \"\") {\r\n      this.setError(\"The value is required!\");\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class NameValidator extends BaseValidator {\r\n  validate(value) {\r\n    this.reset();\r\n    if (value.length < 2) {\r\n      this.setError(\"The name is too short!\");\r\n      return false;\r\n    }\r\n    if (value.length > 10) {\r\n      this.setError(\"The name is too long!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class PasswordValidator extends BaseValidator {\r\n  validate(value) {\r\n    this.reset();\r\n    if (value.length < 6) {\r\n      this.setError(\"Password must be at least 6 characters long!\");\r\n      return false;\r\n    }\r\n    if (!/[A-Z]/.test(value)) {\r\n      this.setError(\"Password must contain at least one uppercase letter!\");\r\n      return false;\r\n    }\r\n    if (!/[0-9]/.test(value)) {\r\n      this.setError(\"Password must contain at least one number!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class EmailValidator extends BaseValidator {\r\n  validate(value) {\r\n    this.reset();\r\n    if (!/^[^\\s@]+@[^\\s@]+\\.[a-zA-Z]{2,}$/.test(value)) {\r\n      this.setError(\"Incorrect email!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  // /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/i\r\n  //  !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(form.email)\r\n}\r\n\r\nexport class PhoneNumberValidator extends BaseValidator {\r\n  validate(value) {\r\n    this.reset();\r\n    if (!/^\\+?\\d{10,15}$/.test(value)) {\r\n      this.setError(\"Incorrect phone number!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n  // ^\\+380\\d{9}$\r\n}\r\n\r\nexport class AvatarValidator extends BaseValidator {\r\n  MAX_SIZE = 1 * 1024 * 1024; // max file size = 1MB\r\n  ALLOWED_TYPES = [\"image/jpeg\", \"image/png\", \"image/webp\"];\r\n\r\n  validate(file) {\r\n    this.reset();\r\n    if (!this.ALLOWED_TYPES.includes(file.type)) {\r\n      this.setError(\"Allowed formats: JPG, PNG, WEBP.\");\r\n      return false;\r\n    }\r\n    if (file.size > this.MAX_SIZE) {\r\n      this.setError(\"The file cannot be larger than 1MB.\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class PasswordEqualityValidator extends BaseValidator {\r\n  validate({ newPassword, confirm }) {\r\n    this.reset();\r\n    if (newPassword !== confirm) {\r\n      this.setError(\"New passwords do not match!\");\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class OrderQuantityValidator extends BaseValidator {\r\n  validate({ totalCount, maxTotalCount }) {\r\n    this.reset();\r\n    if (typeof totalCount !== \"number\" || typeof maxTotalCount !== \"number\") {\r\n      this.setError(\"Invalid quantity data!\");\r\n      return false;\r\n    }\r\n    if (totalCount <= 0) {\r\n      this.setError(\"The value is not valid!\");\r\n      return false;\r\n    }\r\n    if (totalCount > maxTotalCount) {\r\n      this.setError(`Only ${maxTotalCount} available!`);\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import {\r\n  RequiredValidator,\r\n  NameValidator,\r\n  PasswordValidator,\r\n  EmailValidator,\r\n  PhoneNumberValidator,\r\n  AvatarValidator,\r\n  PasswordEqualityValidator,\r\n  OrderQuantityValidator,\r\n} from \"./validator-strategies\";\r\n\r\nexport default class ValidatorSelector {\r\n  static #validators = {};\r\n\r\n  static initialize() {\r\n    ValidatorSelector.#validators = {\r\n      required: new RequiredValidator(),\r\n      name: new NameValidator(),\r\n      password: new PasswordValidator(),\r\n      email: new EmailValidator(),\r\n      phoneNumber: new PhoneNumberValidator(),\r\n      avatar: new AvatarValidator(),\r\n      passwordEquality: new PasswordEqualityValidator(),\r\n      orderQuantity: new OrderQuantityValidator(),\r\n    };\r\n\r\n    ValidatorSelector.initialize = () => {}; // Ð´Ð»Ñ ÑƒÐ½Ð¸ÐºÐ½ÐµÐ½Ð½Ñ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ñ— Ñ–Ð½Ñ–Ñ†Ñ–Ð°Ð»Ñ–Ð·Ð°Ñ†Ñ–Ñ—\r\n  }\r\n\r\n  static select(name) {\r\n    const validator = ValidatorSelector.#validators[name];\r\n    if (!validator) throw new Error(\"No validator found: \" + name);\r\n    return validator;\r\n  }\r\n}\r\n","import ValidatorSelector from \"./validator-selector\";\r\n\r\nexport default class Validator {\r\n  #config;\r\n  validate;\r\n\r\n  constructor(config) {\r\n    const isValidConfigType =\r\n      typeof config === \"string\" ||\r\n      Array.isArray(config) ||\r\n      typeof config === \"object\";\r\n\r\n    if (!config) throw new Error(\"No validation config provided!\");\r\n    if (!isValidConfigType) {\r\n      throw new Error(\"Config must be string, array, or object!\");\r\n    }\r\n\r\n    this.#config = config;\r\n\r\n    if (typeof config === \"string\" || Array.isArray(config)) {\r\n      this.validate = this.#validateValue;\r\n    } else {\r\n      this.validate = this.#validateObj;\r\n    }\r\n\r\n    ValidatorSelector.initialize();\r\n  }\r\n\r\n  #validateObj(data) {\r\n    if (!data || typeof data !== \"object\")\r\n      throw new Error(\"Validation failed: data is missing or invalid.\");\r\n\r\n    const errors = {};\r\n    const keys = Object.keys(this.#config);\r\n\r\n    for (const key of keys) {\r\n      let validatorNamesArr = this.#config[key];\r\n      if (!validatorNamesArr) continue;\r\n\r\n      if (typeof validatorNamesArr === \"string\") {\r\n        validatorNamesArr = [validatorNamesArr];\r\n      }\r\n\r\n      for (const validatorName of validatorNamesArr) {\r\n        const validator = ValidatorSelector.select(validatorName);\r\n        const isValid = validator.validate(data[key]);\r\n\r\n        if (!isValid) {\r\n          errors[key] = validator.message;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      valid: Object.keys(errors).length === 0,\r\n      errors,\r\n    };\r\n  }\r\n\r\n  #validateValue(value) {\r\n    let error = \"\";\r\n    let valid = true;\r\n    let validatorNamesArr = this.#config;\r\n\r\n    if (typeof validatorNamesArr === \"string\") {\r\n      validatorNamesArr = [validatorNamesArr];\r\n    }\r\n\r\n    for (const validatorName of validatorNamesArr) {\r\n      const validator = ValidatorSelector.select(validatorName);\r\n      const isValid = validator.validate(value);\r\n\r\n      if (!isValid) {\r\n        error = validator.message;\r\n        valid = isValid;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return { valid, error };\r\n  }\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * useResponsiveValue({\r\n *   320: \"12.5rem\",\r\n *   480: \"14rem\",\r\n *   default: \"10rem\"\r\n * })\r\n */\r\nfunction useResponsiveValue(breakpoints) {\r\n  const [value, setValue] = useState(breakpoints.default);\r\n\r\n  useEffect(() => {\r\n    let timeoutId;\r\n\r\n    const handleResize = () => {\r\n      clearTimeout(timeoutId);\r\n      timeoutId = setTimeout(() => {\r\n        // Iterate through breakpoints\r\n        for (const bp in breakpoints) {\r\n          if (bp !== \"default\" && window.innerWidth <= bp) {\r\n            setValue(breakpoints[bp]);\r\n            break;\r\n          } else if (bp === \"default\") {\r\n            setValue(breakpoints[bp]);\r\n            break;\r\n          }\r\n        }\r\n      }, 500);\r\n    };\r\n\r\n    handleResize(); // Set initial size based on current window width\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      clearTimeout(timeoutId);\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, [breakpoints]);\r\n\r\n  return value;\r\n}\r\n\r\nexport default useResponsiveValue;\r\n","import Validator from \"./validator/validator\";\r\n\r\nfunction validateValue(value, ...validatorNames) {\r\n  const validatorNamesArr = Array.isArray(validatorNames[0])\r\n    ? validatorNames[0]\r\n    : validatorNames;\r\n\r\n  const validator = new Validator(validatorNamesArr);\r\n  return validator.validate(value);\r\n}\r\n\r\nexport function validateAvatar(file) {\r\n  return validateValue(file, \"required\", \"avatar\");\r\n}\r\n\r\nexport function validateOrderQuantity(totalCount, maxTotalCount) {\r\n  return validateValue({ totalCount, maxTotalCount }, \"orderQuantity\");\r\n}\r\n","import \"./Message.css\";\r\n\r\nfunction Message({ className, message, type }) {\r\n  let newClassName = type ? `${className} message-${type}` : className;\r\n  newClassName = className === \"message\" ? newClassName : \"message \" + newClassName;\r\n\r\n  return (\r\n    <p className={newClassName} role=\"alert\">\r\n      {message}\r\n    </p>\r\n  );\r\n}\r\n\r\nexport default Message;\r\n","import { useState, useRef, useEffect, useCallback } from \"react\";\r\n\r\nexport function useTimedValue(initialValue, globalDelay = null) {\r\n  const [value, setValue] = useState(initialValue);\r\n  const timerRef = useRef(null);\r\n  const isMounted = useRef(true);\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true; // Fix bug in StrictMode\r\n    return () => {\r\n      isMounted.current = false;\r\n      if (timerRef.current) clearTimeout(timerRef.current);\r\n    };\r\n  }, []);\r\n\r\n  const showValue = useCallback(\r\n    (value, localDelay) => {\r\n      const delay = localDelay !== undefined ? localDelay : globalDelay;\r\n      setValue(value);\r\n\r\n      if (timerRef.current) clearTimeout(timerRef.current);\r\n\r\n      if (delay !== null && delay !== undefined) {\r\n        timerRef.current = setTimeout(() => {\r\n          if (isMounted.current) setValue(initialValue);\r\n          timerRef.current = null;\r\n        }, delay);\r\n      }\r\n    },\r\n    [globalDelay, initialValue]\r\n  );\r\n\r\n  const clearValue = useCallback(() => {\r\n    if (timerRef.current) clearTimeout(timerRef.current);\r\n    timerRef.current = null;\r\n    setValue(initialValue);\r\n  }, [initialValue]);\r\n\r\n  return {\r\n    value,\r\n    showValue,\r\n    clearValue,\r\n  };\r\n}\r\n","import { useCallback, useMemo } from \"react\";\r\nimport { useTimedValue } from \"./useTimedValue\";\r\n\r\nexport function useTimedMessage(delay) {\r\n  const initialValue = useMemo(() => ({ text: \"\", type: \"\" }), []);\r\n  const { value, showValue, clearValue } = useTimedValue(initialValue, delay);\r\n\r\n  const showMessage = useCallback(\r\n    (text = \"\", type = \"\", overrideDelay) => {\r\n      showValue(\r\n        (prev) =>\r\n          prev.text === text && prev.type === type ? prev : { text, type },\r\n        overrideDelay\r\n      );\r\n    },\r\n    [showValue]\r\n  );\r\n\r\n  return {\r\n    message: value,\r\n    showMessage,\r\n    clearMessage: clearValue,\r\n  };\r\n}\r\n","import { useRef, useEffect } from \"react\";\r\nimport { useTimedMessage } from \"../../hooks/useTimedMessage\";\r\nimport { useAvatar } from \"../../contexts/AvatarContext\";\r\nimport LazyImage from \"../LazyImage/LazyImage\";\r\nimport Loader from \"../Loader/Loader\";\r\nimport Message from \"../Message/Message\";\r\nimport avatarImg from \"../../assets/images/avatar.png\";\r\nimport { validateAvatar } from \"../../utils/validation/valueValidation\";\r\nimport \"./AvatarUploader.css\";\r\n\r\nfunction toBase64(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = reject;\r\n    reader.readAsDataURL(file);\r\n  });\r\n}\r\n\r\nfunction AvatarUploader({ className = \"\", size = \"16rem\" }) {\r\n  const { avatar, loading, error, updateAvatar, deleteAvatar } = useAvatar();\r\n  const { message, showMessage, clearMessage } = useTimedMessage(10000);\r\n  const fileInputRef = useRef(null);\r\n  const avatarImgContainerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (error) showMessage(error.message, \"error\");\r\n  }, [error, showMessage]);\r\n\r\n  const handleImageClick = () => {\r\n    if (!loading) fileInputRef.current.click();\r\n  };\r\n\r\n  const handleFileChange = async (e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    clearMessage();\r\n    let { valid, error } = validateAvatar(file);\r\n    if (!valid) {\r\n      showMessage(error, \"error\");\r\n      return;\r\n    }\r\n\r\n    const base64 = await toBase64(file);\r\n    updateAvatar(base64);\r\n    avatarImgContainerRef.current.blur();\r\n  };\r\n\r\n  const handleImageRemove = () => {\r\n    clearMessage();\r\n    deleteAvatar();\r\n  };\r\n\r\n  const handleImageKeyDown = (e) => {\r\n    if (loading) return;\r\n    if (e.key === \"Enter\" || e.key === \" \") {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      handleImageClick();\r\n    }\r\n  };\r\n\r\n  const handleImgRemoveKeyDown = (e) => {\r\n    if (e.key === \"Enter\" || e.key === \" \") {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      handleImageRemove();\r\n      avatarImgContainerRef.current.focus();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={className} style={{ width: size }}>\r\n        <div\r\n          className=\"avatar-img-container fancy-background\"\r\n          style={{ width: \"100%\", height: size }}\r\n          title=\"Click to change avatar\"\r\n          aria-label=\"Change avatar\"\r\n          role=\"button\"\r\n          aria-pressed={!!avatar}\r\n          tabIndex={0}\r\n          onClick={handleImageClick}\r\n          onKeyDown={handleImageKeyDown}\r\n          ref={avatarImgContainerRef}\r\n        >\r\n          <LazyImage\r\n            src={avatar || avatarImg}\r\n            style={{ lineHeight: size }}\r\n            alt=\"User Avatar\"\r\n          />\r\n          {loading ? (\r\n            <div className=\"avatar-overlay\">\r\n              <Loader type=\"small\" />\r\n            </div>\r\n          ) : (\r\n            <div className=\"avatar-overlay\">\r\n              ðŸ“·{/* &#128247; */}\r\n              {avatar && (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-text btn-effect-3d\"\r\n                  aria-label=\"Remove avatar\"\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    handleImageRemove();\r\n                  }}\r\n                  onKeyDown={handleImgRemoveKeyDown}\r\n                >\r\n                  &times;\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n        {message?.text && (\r\n          <Message\r\n            className=\"message\"\r\n            message={message.text}\r\n            type={message.type}\r\n          />\r\n        )}\r\n      </div>\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/jpeg,image/png,image/webp\"\r\n        ref={fileInputRef}\r\n        style={{ display: \"none\" }}\r\n        onChange={handleFileChange}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AvatarUploader;\r\n","import { useNavigate } from \"react-router-dom\";\r\nimport useResponsiveValue from \"../../../hooks/useResponsiveValue\";\r\nimport { useAuth } from \"../../../contexts/AuthContext\";\r\nimport AvatarUploader from \"../../../components/AvatarUploader/AvatarUploader\";\r\nimport \"./SignIn.css\";\r\n\r\nfunction SignIn() {\r\n  console.log(\"SignIn render\");\r\n  const { userName, setUserName, setIsLoggedIn } = useAuth();\r\n  const navigate = useNavigate();\r\n  const avatarSize = useResponsiveValue({\r\n    320: \"12.5rem\",\r\n    480: \"14rem\",\r\n    default: \"10rem\",\r\n  });\r\n\r\n  function validateUserName(name) {\r\n    return name.length >= 4 && name.length <= 16;\r\n  }\r\n\r\n  function autorisizeUser() {\r\n    setIsLoggedIn(true);\r\n    navigate(\"/shop\");\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (validateUserName(userName)) {\r\n      autorisizeUser(userName);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"signin-container\">\r\n        <AvatarUploader className=\"avatar\" size={avatarSize} />\r\n        <form\r\n          className=\"fancy-background\"\r\n          action=\"#\"\r\n          method=\"post\"\r\n          onSubmit={(e) => {\r\n            handleSubmit(e);\r\n          }}\r\n        >\r\n          <label htmlFor=\"user-name\">User name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"userName\"\r\n            id=\"user-name\"\r\n            placeholder=\"Type your name\"\r\n            required\r\n            value={userName}\r\n            onChange={(e) => {\r\n              setUserName(e.target.value);\r\n            }}\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn-effect-3d\"\r\n            disabled={!validateUserName(userName)}\r\n          >\r\n            Sign-in\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import { useState } from \"react\";\r\nimport \"./LazyImage.css\";\r\n\r\nfunction LazyImage({src, alt, className, ...otherProps}) {\r\n  const [isImgLoaded, setIsImgLoaded] = useState(false);\r\n  const [isError, setIsError] = useState(false);\r\n  // console.log(\"Img render\");\r\n  if(isError){\r\n    return <div className=\"on-error-fallback flex\">{alt}</div>\r\n  } \r\n  return (\r\n    <>  \r\n        <img\r\n          src={src}\r\n          alt={alt}\r\n          {...otherProps}\r\n          className={`${className} lazy-img ${isImgLoaded ? \"loaded\" : \"\"}`}\r\n          onLoad={() => {\r\n            // console.log(\"Img loaded\");\r\n            setIsImgLoaded(true);\r\n          }}\r\n          onError={() => {\r\n            // console.error(\"Img loading error\");\r\n            setIsError(true);\r\n          }}\r\n        />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LazyImage;"],"names":["_classPrivateFieldBase","e","t","hasOwnProperty","call","TypeError","id","_classPrivateFieldKey","BaseValidator","constructor","message","setError","msg","this","reset","validate","value","Error","RequiredValidator","valueType","undefined","trim","NameValidator","length","PasswordValidator","test","EmailValidator","PhoneNumberValidator","AvatarValidator","arguments","MAX_SIZE","ALLOWED_TYPES","file","includes","type","size","PasswordEqualityValidator","_ref","newPassword","confirm","OrderQuantityValidator","_ref2","totalCount","maxTotalCount","_validators","_classPrivateFieldLooseKey","ValidatorSelector","initialize","_classPrivateFieldLooseBase","required","name","password","email","phoneNumber","avatar","passwordEquality","orderQuantity","select","validator","Object","defineProperty","writable","_config","_validateObj","_validateValue","Validator","config","_validateValue2","_validateObj2","isValidConfigType","Array","isArray","data","errors","keys","key","validatorNamesArr","validatorName","valid","error","isValid","breakpoints","setValue","useState","default","useEffect","timeoutId","handleResize","clearTimeout","setTimeout","bp","window","innerWidth","addEventListener","removeEventListener","validateValue","_len","validatorNames","_key","validateAvatar","validateOrderQuantity","className","newClassName","_jsx","role","children","useTimedValue","initialValue","globalDelay","timerRef","useRef","isMounted","current","showValue","useCallback","localDelay","delay","clearValue","useTimedMessage","useMemo","text","showMessage","prev","clearMessage","loading","updateAvatar","deleteAvatar","useAvatar","fileInputRef","avatarImgContainerRef","handleImageClick","click","handleImageRemove","_jsxs","_Fragment","style","width","height","title","tabIndex","onClick","onKeyDown","preventDefault","stopPropagation","ref","LazyImage","src","avatarImg","lineHeight","alt","Loader","focus","Message","accept","display","onChange","async","_e$target$files","target","files","base64","Promise","resolve","reject","reader","FileReader","onload","result","onerror","readAsDataURL","toBase64","blur","console","log","userName","setUserName","setIsLoggedIn","useAuth","navigate","useNavigate","avatarSize","useResponsiveValue","validateUserName","handleSubmit","AvatarUploader","action","method","onSubmit","htmlFor","placeholder","disabled","otherProps","isImgLoaded","setIsImgLoaded","isError","setIsError","onLoad","onError"],"sourceRoot":""}