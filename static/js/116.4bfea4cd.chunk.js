"use strict";(self.webpackChunkbooks_shop=self.webpackChunkbooks_shop||[]).push([[116],{116:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(721),r=n(43);const s=function(e){const[t,n]=(0,r.useState)(e.default);return(0,r.useEffect)(()=>{let t;const a=()=>{clearTimeout(t),t=setTimeout(()=>{for(const t in e){if("default"!==t&&window.innerWidth<=t){n(e[t]);break}if("default"===t){n(e[t]);break}}},500)};return a(),window.addEventListener("resize",a),()=>{clearTimeout(t),window.removeEventListener("resize",a)}},[e]),t};var l=n(528),o=n(767),i=n(396),c=n(536),u=n(579);const d=function(e){let{className:t="",size:n="10rem"}=e;const{avatar:a,changeAvatar:s,removeAvatar:l}=(0,o.r)(),[d,m]=(0,r.useState)(null),f=(0,r.useRef)(null),g=(0,r.useRef)(null);let h=(0,r.useRef)(null);const p=()=>{f.current.click()},v=()=>{l()};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:t,style:{width:n},children:[(0,u.jsxs)("div",{className:"avatar-img-container fancy-background",style:{width:"100%",height:n},title:"Click to change avatar","aria-label":"Change avatar",role:"button","aria-pressed":!!a,tabIndex:0,onClick:p,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),p())},ref:g,children:[(0,u.jsx)(i.A,{src:a||c,style:{lineHeight:n},alt:"User Avatar"}),(0,u.jsxs)("div",{className:"avatar-overlay",children:["\ud83d\udcf7",a&&(0,u.jsx)("button",{type:"button",className:"btn-text btn-effect-3d","aria-label":"Remove avatar",onClick:e=>{e.stopPropagation(),v()},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),v(),g.current.focus())},children:"\xd7"})]})]}),d&&(0,u.jsx)("p",{role:"alert",children:d})]}),(0,u.jsx)("input",{type:"file",accept:"image/jpeg,image/png",ref:f,style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(!t)return;const n=function(e){return["image/jpeg","image/png"].includes(e.type)?e.size>1048576?"The file cannot be larger than 1MB":null:"Only JPG or PNG are allowed"}(t);if(n)return m(n),h.current&&clearTimeout(h.current),void(h.current=setTimeout(()=>{m(null),h.current=null},8e3));m(null);const a=new FileReader;a.onloadend=()=>{s(a.result)},a.readAsDataURL(t)}})]})};const m=function(){console.log("SignIn render");const{userName:e,setUserName:t,setIsLoggedIn:n}=(0,l.A)(),r=(0,a.Zp)(),o=s({320:"12.5rem",480:"14rem",default:"10rem"});function i(e){return e.length>=4&&e.length<=16}function c(t){t.preventDefault(),i(e)&&(n(!0),r("/shop"))}return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"signin-container",children:[(0,u.jsx)(d,{className:"avatar",size:o}),(0,u.jsxs)("form",{className:"fancy-background",action:"#",method:"post",onSubmit:e=>{c(e)},children:[(0,u.jsx)("label",{htmlFor:"user-name",children:"User name"}),(0,u.jsx)("input",{type:"text",name:"userName",id:"user-name",placeholder:"Type your name",required:!0,value:e,onChange:e=>{t(e.target.value)}}),(0,u.jsx)("button",{type:"submit",className:"btn-effect-3d",disabled:!i(e),children:"Sign-in"})]})]})})}},396:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(43),r=n(579);const s=function(e){let{src:t,alt:n,className:s,...l}=e;const[o,i]=(0,a.useState)(!1);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("img",{src:t,alt:n,...l,className:`${s} lazy-img ${o?"loaded":""}`,onLoad:()=>{i(!0)}})})}}}]);
//# sourceMappingURL=116.4bfea4cd.chunk.js.map